

  <div class="jumbotron">
    <h1>Transactions for <%= user.username%></h1>
    <p>Here is your list of transactions!</p>

    <table class="table table-bordered">
      <tr>
        <th scope="col">
          <a href="transaction/groupByCategory"><button class="btn btn-primary">group by category</button></a>
        </th>
        <th scope="col">
          <a href="?sortBy=category"><button class="btn btn-primary">sort by category</button></a>
        </th>
        <th scope="col">
          <a href="?sortBy=amount"><button class="btn btn-primary">sort by amount</button></a>
        </th>
        <th scope="col">
          <a href="?sortBy=description"><button class="btn btn-primary">sort by description</button></a>
        </th>
        <th scope="col">
          <a href="?sortBy=date"><button class="btn btn-primary">sort by date</button></a>
        </th>
      </tr>
    </table>
  
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th scope="col">description</th>
          <th scope="col">amount</th>
          <th scope="col">category</th>
          <th scope="col">date</th>
          <th scope="col">delete</th>
          <th scope="col">edit</th>
        </tr>
      </thead>
      <tbody>
        <% things.forEach(transaction => { %>
          <tr>
            <td><%= transaction.description %></td>
            <td><%= transaction.amount %></td>
            <td><%= transaction.category %></td>
            <td><%= transaction.date.toLocaleDateString('en-US', {
              weekday: 'short',
              month: 'short',
              day: 'numeric',
              year: 'numeric',
            }) %></td>
            <td>
              <a href="/transaction/remove/<%= transaction._id %>"><i class="bi bi-trash"></i></a>
            </td>
            <td>
              <a href="/transaction/<%= transaction._id %>/edit"><i class="bi bi-pencil-square"></i></a>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
    
    <h1>Add a new transaction</h1>
    <form method="post" action="transaction">
      <input type="text" id="description" name="description" placeholder="description"><br>
      <input type="text" id="category" name="category" placeholder="category"><br>
      <input type="number" id="amount" name="amount" placeholder="amount"><br>
      <input type="date" id="date" name="date" placeholder="date" required="true"><br>
      <input type="submit" value="store">
    </form>
  </div>
